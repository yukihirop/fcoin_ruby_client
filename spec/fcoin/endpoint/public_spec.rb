require 'spec_helper'

RSpec.describe Fcoin::Endpoint::Public do
  let(:client) { Fcoin::Client.new }

  describe '#public_server_time', vcr: { cassette_name: 'public/server_time', record: :new_episodes } do
    let(:response) { client.public_server_time }
    let(:body)     { JSON.parse(response.body) }

    it 'response data should be got' do
      expect(body['data']).to   eq 1531562028166
      expect(body['status']).to eq 0
    end

    it 'response status code should be 200' do
      expect(response.status).to eq 200
    end
  end

  describe '#public_currencies', vcr: { cassette_name: 'public/currencies', record: :new_episodes } do
    let(:response) { client.public_currencies }
    let(:body)     { JSON.parse(response.body) }

    it 'response data should be got' do
      expect(body['data']).to   eq ["btc", "eth", "bch", "ltc", "usdt", "ft_frozen", "ft", "zip", "etc", "omg", "btm", "zrx", "xrp", "bnb", "gtc", "fi", "zil", "icx", "ae", "777", "gus", "cccx", "banca", "pra", "dcc", "sss", "mdt", "tst", "pmd", "rte", "xps", "tct", "dws", "ngot", "at", "soc", "blz", "ocn", "datx", "let", "dag", "yee", "aaa", "nc", "ait", "arp", "gram", "tbcoin", "ifood", "hpc", "sgcc", "lxt", "3db", "drink", "drct", "ionc", "xmx", "rct", "cit", "ees", "fair", "brm", "sda", "cbr", "tkt", "vct", "biz", "show", "pai", "sec", "lovc", "mst", "iov", "ejoy", "iht", "iic", "fbc", "fota", "dagt", "wte", "tos", "oas", "fres", "gene", "maya", "mesh", "icc", "scl", "cofi", "but", "zsc", "jac", "vns", "aidoc", "ccc", "fuel", "edu", "beauty", "mof", "dta", "cps", "msc", "latx", "dscoin", "dscb", "boc", "18t", "newos", "mxm", "idxe", "pnt", "vpp", "lmm"]
      expect(body['status']).to eq 0
    end

    it 'response status code should be 200' do
      expect(response.status).to eq 200
    end
  end

  describe '#public_symbols', vcr: { cassette_name: 'public/symbols', record: :new_episodes } do
    let(:response) { client.public_symbols }
    let(:body)     { JSON.parse(response.body) }

    it 'response data should be got' do
      expect(body['data']).to   eq [{"name"=>"btcusdt", "base_currency"=>"btc", "quote_currency"=>"usdt", "price_decimal"=>2, "amount_decimal"=>4}, {"name"=>"ethusdt", "base_currency"=>"eth", "quote_currency"=>"usdt", "price_decimal"=>2, "amount_decimal"=>4}, {"name"=>"bchusdt", "base_currency"=>"bch", "quote_currency"=>"usdt", "price_decimal"=>2, "amount_decimal"=>4}, {"name"=>"ltcusdt", "base_currency"=>"ltc", "quote_currency"=>"usdt", "price_decimal"=>2, "amount_decimal"=>4}, {"name"=>"ftusdt", "base_currency"=>"ft", "quote_currency"=>"usdt", "price_decimal"=>6, "amount_decimal"=>2}, {"name"=>"fteth", "base_currency"=>"ft", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"zipeth", "base_currency"=>"zip", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"etcusdt", "base_currency"=>"etc", "quote_currency"=>"usdt", "price_decimal"=>2, "amount_decimal"=>4}, {"name"=>"ftbtc", "base_currency"=>"ft", "quote_currency"=>"btc", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"omgeth", "base_currency"=>"omg", "quote_currency"=>"eth", "price_decimal"=>6, "amount_decimal"=>4}, {"name"=>"btmusdt", "base_currency"=>"btm", "quote_currency"=>"usdt", "price_decimal"=>4, "amount_decimal"=>2}, {"name"=>"zrxeth", "base_currency"=>"zrx", "quote_currency"=>"eth", "price_decimal"=>6, "amount_decimal"=>2}, {"name"=>"bnbusdt", "base_currency"=>"bnb", "quote_currency"=>"usdt", "price_decimal"=>4, "amount_decimal"=>2}, {"name"=>"zipusdt", "base_currency"=>"zip", "quote_currency"=>"usdt", "price_decimal"=>6, "amount_decimal"=>2}, {"name"=>"xrpusdt", "base_currency"=>"xrp", "quote_currency"=>"usdt", "price_decimal"=>4, "amount_decimal"=>2}, {"name"=>"fieth", "base_currency"=>"fi", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"fiusdt", "base_currency"=>"fi", "quote_currency"=>"usdt", "price_decimal"=>6, "amount_decimal"=>2}, {"name"=>"icxeth", "base_currency"=>"icx", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"zileth", "base_currency"=>"zil", "quote_currency"=>"eth", "price_decimal"=>6, "amount_decimal"=>4}, {"name"=>"aeeth", "base_currency"=>"ae", "quote_currency"=>"eth", "price_decimal"=>6, "amount_decimal"=>2}, {"name"=>"777eth", "base_currency"=>"777", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"guseth", "base_currency"=>"gus", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"cccxeth", "base_currency"=>"cccx", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"bancaeth", "base_currency"=>"banca", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"praeth", "base_currency"=>"pra", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"dcceth", "base_currency"=>"dcc", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"ssseth", "base_currency"=>"sss", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"mdteth", "base_currency"=>"mdt", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"tsteth", "base_currency"=>"tst", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"pmdeth", "base_currency"=>"pmd", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"rteeth", "base_currency"=>"rte", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"xpseth", "base_currency"=>"xps", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"tcteth", "base_currency"=>"tct", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"dwseth", "base_currency"=>"dws", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"ngoteth", "base_currency"=>"ngot", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"ateth", "base_currency"=>"at", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"soceth", "base_currency"=>"soc", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"blzeth", "base_currency"=>"blz", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"ocneth", "base_currency"=>"ocn", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"datxeth", "base_currency"=>"datx", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"gtceth", "base_currency"=>"gtc", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"leteth", "base_currency"=>"let", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"dageth", "base_currency"=>"dag", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"yeeeth", "base_currency"=>"yee", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"aaaeth", "base_currency"=>"aaa", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"nceth", "base_currency"=>"nc", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"aiteth", "base_currency"=>"ait", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"arpeth", "base_currency"=>"arp", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"grameth", "base_currency"=>"gram", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"ifoodeth", "base_currency"=>"ifood", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"hpceth", "base_currency"=>"hpc", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"sgcceth", "base_currency"=>"sgcc", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"3dbeth", "base_currency"=>"3db", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"xmxeth", "base_currency"=>"xmx", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"rcteth", "base_currency"=>"rct", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"citeth", "base_currency"=>"cit", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"eeseth", "base_currency"=>"ees", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"faireth", "base_currency"=>"fair", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"brmeth", "base_currency"=>"brm", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"sdaeth", "base_currency"=>"sda", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"cbreth", "base_currency"=>"cbr", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"tkteth", "base_currency"=>"tkt", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"vcteth", "base_currency"=>"vct", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"bizeth", "base_currency"=>"biz", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"showeth", "base_currency"=>"show", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"paieth", "base_currency"=>"pai", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"ioveth", "base_currency"=>"iov", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"ihteth", "base_currency"=>"iht", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"fotaeth", "base_currency"=>"fota", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"ejoyeth", "base_currency"=>"ejoy", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"iiceth", "base_currency"=>"iic", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"wteeth", "base_currency"=>"wte", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"freseth", "base_currency"=>"fres", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"mesheth", "base_currency"=>"mesh", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"icceth", "base_currency"=>"icc", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"ionceth", "base_currency"=>"ionc", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"drcteth", "base_currency"=>"drct", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"oaseth", "base_currency"=>"oas", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"buteth", "base_currency"=>"but", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"aidoceth", "base_currency"=>"aidoc", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"cofieth", "base_currency"=>"cofi", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"lxteth", "base_currency"=>"lxt", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"edueth", "base_currency"=>"edu", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"dtaeth", "base_currency"=>"dta", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}, {"name"=>"msceth", "base_currency"=>"msc", "quote_currency"=>"eth", "price_decimal"=>8, "amount_decimal"=>2}]
      expect(body['status']).to eq 0
    end

    it 'response status code should be 200' do
      expect(response.status).to eq 200
    end
  end
end